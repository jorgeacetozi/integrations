Nginx Integration Pack
======================

This integration includes several plugins to monitor different aspects
of Nginx. You may use any or all of the plugins as you wish. Some of
them require changing your Nginx configuration.

## `nginx_procs.py`

This plugin checks for the appropriate number of master processes
and worker processes. No changes to your `nginx.conf` are necessary.

## `nginx_logs.py`

To enable calculation of response times, you need to define a new
access log format that includes `request_time`. Add this to your 
`nginx.conf` in the `http` block:

```
log_format timed_combined '$remote_addr - $remote_user [$time_local] '
                          '"$request" $status $body_bytes_sent '
                          '$request_time "$http_referer" '
                          '"$http_user_agent"';
```

Then in your log directives, use the `time_combined` format, for example:

```
access_log /var/log/nginx/access.log timed_combined;
```

## `nginx_status.py`

This plugin checks an Nginx status page as generated by the optional
[ngx_http_stub_status][stub] module. To enable it, add a `location`
block to your server:

```
http {
    server {
        location /nginx_status {
            stub_status on;
            access_log off;
            allow 127.0.0.1;
            deny all;
        }
    }
}
```

[stub]: http://nginx.org/en/docs/http/ngx_http_stub_status_module.html