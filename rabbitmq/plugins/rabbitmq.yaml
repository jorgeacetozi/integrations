---
type: "native"
requirements: ["requests==2.18.4"]
interval: 30

settings:
  - name: host
    type: string
    description: Hostname of the RabbitMQ server
    default: "localhost"
  - name: port
    type: int
    description: Port number for the management service
    default: 15672
  - name: protocol
    type: enum
    choices: ["http", "https"]
    description: Protocol to use when connecting
  - name: verify_ssl
    type: bool
    description: If true, validate the SSL certificate when connecting
    default: false
  - name: username
    type: string
    description: Name of the RabbitMQ user
  - name: password
    type: password
    description: Password for the RabbitMQ user
  - name: vhost_stats
    type: bool
    default: false
    description: Gather metrics for each virtual host
  - name: queue_stats
    type: bool
    default: false
    description: Gather metrics for each queue
  - name: exchange_stats
    type: bool
    default: false
    description: Gather metrics for each exchange


deployments:
  - selector:
      - outlyer.com/type: 'host'
    interval: 10
    host: localhost
    port: 15672
    protocol: http
    username: guest
    password: guest
    vhost_stats: true
    queue_stats: true
    exchange_stats: true
